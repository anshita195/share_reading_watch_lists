chrome.tabs.onUpdated.addListener(async(e,t,a)=>{if("complete"===t.status&&a.url)try{const[t]=await chrome.scripting.executeScript({target:{tabId:e},func:()=>({title:document.title,url:window.location.href,content:document.body.innerText,timestamp:(new Date).toISOString()})}),a=t.result;chrome.storage.local.get(["trackedPages"],e=>{const t=e.trackedPages||[];t.push(a),chrome.storage.local.set({trackedPages:t})})}catch(e){console.error("Error tracking page:",e)}}),chrome.runtime.onMessage.addListener((e,t,a)=>{if("PAGE_LOADED"===e.type&&e.data){const t=e.data;chrome.storage.local.get(["trackedPages"],e=>{const a=e.trackedPages||[];a.push(t),chrome.storage.local.set({trackedPages:a},()=>{chrome.runtime.sendMessage({type:"PAGE_TRACKED"})})})}}),chrome.runtime.onInstalled.addListener(()=>{!async function(){try{console.log("LLM initialization will be implemented")}catch(e){console.error("Failed to initialize LLM:",e)}}(),chrome.storage.local.set({trackedPages:[]})});
//# sourceMappingURL=background.js.map